<main>

  <div class="lang-switch">
    Langue / Language :
    <a href="#fr-quickstart">FR</a> ·
    <a href="#en-quickstart">EN</a>
  </div>

  <!-- ========================================================= -->
  <!-- ========================= FR ============================= -->
  <!-- ========================================================= -->

  <section id="fr-quickstart">
    <h2>API Quickstart – Version 1.1</h2>

    <div class="card">
      <h3>1. Introduction</h3>
      <p>
        Cette page offre un démarrage rapide pour utiliser l’API GHI v1.1.  
        Tous les appels sont accessibles sans authentification dans l’édition Sandbox.  
        Les éditions institutionnelles (API clés, données enrichies, SLA) seront annoncées prochainement.
      </p>
      <p>
        Les exemples ci-dessous montrent comment interroger les endpoints 
        <strong>snapshot</strong>, <strong>history</strong> et <strong>regions</strong>.
      </p>
    </div>

    <div class="card">
      <h3>2. URL de base</h3>
      <pre><code>https://globalhashcostindex.org/api/v1/ghi/</code></pre>
      <p>Tous les appels API utilisent ce préfixe.</p>
    </div>

    <div class="card">
      <h3>3. Appels immédiats (cURL)</h3>

      <h4>Snapshot (coût global + régional)</h4>
      <pre><code>curl https://globalhashcostindex.org/api/v1/ghi/snapshot</code></pre>

      <h4>Historique (global)</h4>
      <pre><code>curl "https://globalhashcostindex.org/api/v1/ghi/history?region_id=global"</code></pre>

      <h4>Liste des régions</h4>
      <pre><code>curl https://globalhashcostindex.org/api/v1/ghi/regions</code></pre>
    </div>

    <div class="card">
      <h3>4. Exemple Python (requests)</h3>
      <pre><code>import requests

BASE = "https://globalhashcostindex.org/api/v1/ghi"

r = requests.get(f"{BASE}/snapshot")
data = r.json()

print("Global avg cost:", data["global_avg_cost_usd"])
</code></pre>
      <p>S’intègre dans n’importe quel pipeline Python, ETL, Airflow, backtests, etc.</p>
    </div>

    <div class="card">
      <h3>5. Exemple JavaScript (fetch)</h3>
      <pre><code>const url = "https://globalhashcostindex.org/api/v1/ghi/snapshot";

fetch(url)
  .then(res => res.json())
  .then(data => {
    console.log("Global avg cost:", data.global_avg_cost_usd);
  });
</code></pre>
    </div>

    <div class="card">
      <h3>6. Exemple pour données historiques</h3>
      <pre><code>curl "https://globalhashcostindex.org/api/v1/ghi/history?region_id=us"</code></pre>

      <p>Réponse typique :</p>
      <pre><code>{
  "version": "1.1",
  "timestamp_utc": "...",
  "region_id": "us",
  "points": [
    {
      "date": "2025-12-01",
      "min_cost_usd": 41000,
      "avg_cost_usd": 45000,
      "max_cost_usd": 49500
    }
  ]
}</code></pre>
    </div>

    <div class="card">
      <h3>7. Ressources utiles</h3>
      <ul>
        <li><a href="api/api-v1.1.html">API v1.1 – Documentation complète</a></li>
        <li><a href="api-reference.html">API Reference</a></li>
        <li><a href="api.html">Vue d’ensemble de l’API</a></li>

        <li>
          <a target="_blank" href="https://github.com/ghi-standard/ghi-engine">
            GHI Engine (GitHub)
          </a>
        </li>

        <li>
          <a target="_blank" href="https://github.com/ghi-standard/GHI-public/blob/main/public/docs/API_v1.1_Spec.md">
            Spécification API v1.1 (GitHub Markdown)
          </a>
        </li>
      </ul>
    </div>
  </section>

  <!-- ========================================================= -->
  <!-- ========================= EN ============================= -->
  <!-- ========================================================= -->

  <section id="en-quickstart">
    <h2>API Quickstart – Version 1.1</h2>

    <div class="card">
      <h3>1. Introduction</h3>
      <p>
        This page provides a fast onboarding guide for GHI API v1.1.  
        All endpoints are publicly accessible in the Sandbox edition.  
        Institutional editions (API keys, enriched datasets, SLA) will be announced soon.
      </p>
    </div>

    <div class="card">
      <h3>2. Base URL</h3>
      <pre><code>https://globalhashcostindex.org/api/v1/ghi/</code></pre>
    </div>

    <div class="card">
      <h3>3. Immediate calls (cURL)</h3>

      <h4>Snapshot</h4>
      <pre><code>curl https://globalhashcostindex.org/api/v1/ghi/snapshot</code></pre>

      <h4>History</h4>
      <pre><code>curl "https://globalhashcostindex.org/api/v1/ghi/history?region_id=global"</code></pre>

      <h4>Regions</h4>
      <pre><code>curl https://globalhashcostindex.org/api/v1/ghi/regions</code></pre>
    </div>

    <div class="card">
      <h3>4. Python example</h3>
      <pre><code>import requests

BASE = "https://globalhashcostindex.org/api/v1/ghi"
data = requests.get(f"{BASE}/snapshot").json()

print("Global avg cost:", data["global_avg_cost_usd"])
</code></pre>
    </div>

    <div class="card">
      <h3>5. JavaScript example</h3>
      <pre><code>fetch("https://globalhashcostindex.org/api/v1/ghi/snapshot")
  .then(res => res.json())
  .then(data => console.log("Global avg cost:", data.global_avg_cost_usd));
</code></pre>
    </div>

    <div class="card">
      <h3>6. History example</h3>
      <pre><code>curl "https://globalhashcostindex.org/api/v1/ghi/history?region_id=us"</code></pre>

      <pre><code>{
  "version": "1.1",
  "region_id": "us",
  "points": [
    {"date": "2025-12-01", "avg_cost_usd": 45000}
  ]
}</code></pre>
    </div>

    <div class="card">
      <h3>7. Resources</h3>
      <ul>
        <li><a href="api/api-v1.1.html">API v1.1 – Full documentation</a></li>
        <li><a href="api-reference.html">API Reference</a></li>
        <li><a href="api.html">API overview</a></li>

        <li>
          <a target="_blank" href="https://github.com/ghi-standard/ghi-engine">
            GHI Engine (GitHub)
          </a>
        </li>

        <li>
          <a target="_blank" href="https://github.com/ghi-standard/GHI-public/blob/main/public/docs/API_v1.1_Spec.md">
            API v1.1 specification (GitHub Markdown)
          </a>
        </li>
      </ul>
    </div>

  </section>

</main>