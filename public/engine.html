<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>GHI – Moteur de calcul</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Description publique du moteur de calcul du Global HashCost Index (GHI) : rôle, architecture, sandbox et gouvernance." />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="page-shell">

    <header>
      <div class="site-title">
        <h1>Global HashCost Index</h1>
        <p style="color:#f9fafb; text-shadow:0 1px 2px rgba(15,23,42,0.7);">
          Un indicateur ouvert du coût de production du Bitcoin.
        </p>
        <p style="color:#cbd5e1; font-size:0.85rem; margin-top:2px;">
          Version : GHI v1.0
        </p>
      </div>
    </header>

    <nav>
      <ul>
        <li><a href="index.html">Accueil</a></li>
        <li><a href="dashboard.html">Dashboard</a></li>
        <li><a href="methodology.html">Méthodologie</a></li>
        <li><a href="regions.html">Régions</a></li>
        <li><a href="api.html">API</a></li>
        <li><a href="engine.html" class="active">Moteur</a></li>
        <li><a href="governance.html">Gouvernance</a></li>
        <li><a href="ghi-for-institutions.html">GHI for Institutions</a></li>
        <li><a href="roadmap.html">Roadmap</a></li>
        <li><a href="changelog.html">Changelog</a></li>
        <li><a href="about.html">À propos</a></li>
        <li><a href="legal.html">Mentions légales</a></li>
      </ul>
    </nav>

    <main>

      <h2>Le moteur de calcul du GHI</h2>

      <p>
        Le <strong>moteur GHI</strong> est le composant logiciel qui calcule le Global HashCost Index
        à partir d’hypothèses régionales, de caractéristiques de machines de minage (ASIC) et de
        métriques du réseau Bitcoin (difficulté, hashrate, récompense de bloc).
      </p>

      <p>
        Cette page décrit la structure générale du moteur, sans révéler les formules internes ni les
        paramètres propriétaires. L’objectif est de permettre aux institutions, régulateurs et équipes
        techniques de comprendre <em>comment</em> le GHI est produit, sans exposer le cœur du modèle.
      </p>

      <h3>Rôle principal</h3>
      <ul>
        <li>ingérer les données d’entrée (régions, énergie, machines, réseau),</li>
        <li>appliquer un modèle de coût de production du Bitcoin,</li>
        <li>produire des <strong>snapshots GHI</strong> compatibles avec le Data Model v1.0,</li>
        <li>construire un historique exploitable pour les analyses et tableaux de bord.</li>
      </ul>

      <hr />


      <!-- ---------------------------------------------------------------------- -->
      <!-- MODE SANDBOX / MODE RÉEL -->
      <!-- ---------------------------------------------------------------------- -->

      <h2>Mode sandbox vs moteur réel</h2>

      <h3>Mode sandbox (public)</h3>

      <p>
        L’API publique GHI fonctionne actuellement en <strong>mode sandbox</strong>. Dans ce mode :
      </p>

      <ul>
        <li>les endpoints <code>/v1/ghi/*</code> renvoient des données <em>factices</em> contrôlées,</li>
        <li>aucune donnée de production ni paramètre interne n’est exposé,</li>
        <li>le but est de permettre les tests d’intégration et la validation des outils.</li>
      </ul>

      <p>Configuration :</p>

      <pre class="code-block">
# app/config.py
USE_REAL_ENGINE = False  # sandbox public
      </pre>


      <h3>Mode moteur réel (privé)</h3>

      <p>
        En <strong>mode moteur réel</strong>, qui n’est pas distribué dans le dépôt public, le
        calcul du GHI s’appuie sur :
      </p>

      <ul>
        <li>un module de chargement des données (<code>DataLoader</code>),</li>
        <li>des sources régionales (<code>RegionalSources</code>),</li>
        <li>un catalogue de machines ASIC (<code>ASICFleet</code>),</li>
        <li>un moteur de modèle de coût (<code>CostCalculator</code>),</li>
        <li>un agrégateur de snapshot (<code>SnapshotAggregator</code>),</li>
        <li>une couche de stockage (Parquet, CSV, etc.).</li>
      </ul>

      <p>
        Les formules, coefficients de calibration et jeux de données détaillés restent
        <strong>confidentiels</strong> et ne sont pas présents dans le code public.
      </p>

      <hr />


      <!-- ---------------------------------------------------------------------- -->
      <!-- ARCHITECTURE -->
      <!-- ---------------------------------------------------------------------- -->

      <h2>Architecture générale du moteur</h2>

      <p>Structure technique du moteur :</p>

      <pre class="code-block">
app/engine/
  loader/              # chargement & normalisation des entrées
  regional_sources/    # hypothèses & pondérations régionales
  machine_sources/     # définition du parc ASIC
  cost/                # interfaces du modèle de coût
  aggregator/          # assemblage du snapshot
  scheduler/           # exécution périodique
  storage/             # exports (Parquet, CSV, ...)
      </pre>

      <p>Pipeline conceptuel :</p>

      <pre class="code-block">
DataLoader → RegionalSources → ASICFleet → CostCalculator → SnapshotAggregator → Storage
      </pre>


      <h3>Alignement avec le Data Model v1.0</h3>

      <ul>
        <li>structure <code>GHI Snapshot</code> (min/avg/max global),</li>
        <li>données <code>Region</code> riches (coûts, énergie, machines, métadonnées),</li>
        <li>séries temporelles dans <code>History</code>.</li>
      </ul>

      <hr />


      <!-- ---------------------------------------------------------------------- -->
      <!-- GOUVERNANCE / AUDIT -->
      <!-- ---------------------------------------------------------------------- -->

      <h2>Gouvernance, versioning et audits</h2>

      <h3>Versioning</h3>

      <ul>
        <li><code>1.x</code> : compatible Data Model v1.0</li>
        <li><code>2.x</code> : nouvelles structures d’output ou champs obligatoires</li>
      </ul>

      <h3>Auditabilité</h3>

      <ul>
        <li>architecture interne documentée,</li>
        <li>couples entrées–sorties anonymisés,</li>
        <li>replays de snapshots sous NDA.</li>
      </ul>

      <p class="text-muted">
        Le code technique réel du moteur n’est pas publié. Des revues sous NDA sont possibles pour
        certains partenaires institutionnels.
L’implémentation complète du moteur de calcul est maintenue dans un dépôt privé, distinct de ce site et des ressources sandbox publiques.
      </p>

      <hr />


      <!-- ---------------------------------------------------------------------- -->
      <!-- RESSOURCES DÉVELOPPEURS -->
      <!-- ---------------------------------------------------------------------- -->

      <h2>Ressources pour les développeurs</h2>

      <ul>
        <li><a href="api.html">Documentation API sandbox</a></li>
        <li>
          Pack développeur :
          <a href="devpack/GHI-Developer-Pack-v0.2.0.zip">GHI-Developer-Pack-v0.2.0.zip</a>
        </li>
    </li> 
     <li>
       Résumé technique du moteur (PDF) :
       <a href="/docs/ENGINE_TECHNICAL_SUMMARY.pdf" target="_blank">
        ENGINE_TECHNICAL_SUMMARY.pdf
      <p class="text-muted">
        Cette page décrit la structure du moteur. Elle ne constitue pas une recommandation d’investissement.
     </ul>
    </li> 
      </a>
     
  </a>
<p class="text-muted">
  Le moteur réel GHI est implémenté dans un dépôt privé, distinct du présent sandbox.
  Son architecture est documentée ici, tandis que les formules et données internes ne sont accessibles
  que dans le cadre de revues sous NDA.
</p>
    </main>
  </div>

  <footer>
    <p>© Global HashCost Index – Modèle ouvert. Aucune recommandation d’investissement.</p>
  </footer>

</body>
</html>
